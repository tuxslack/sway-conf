[Desktop Entry]

# Este arquivo .desktop adiciona um atalho aos menus do sistema para editar as 
# configura√ß√µes do Sway, um gerenciador de janelas Wayland inspirado no i3wm.

# As configura√ß√µes ficam em: ~/.config/sway/config.


# Coloque no local apropriado:

# Copie esse arquivo para ~/.local/share/applications/ ou para /usr/share/applications/

# xdg-open √© uma maneira mais simples e port√°til de abrir arquivos com o editor gr√°fico 
# padr√£o associado ao tipo de arquivo (neste caso, provavelmente um editor de texto para 
# arquivos .config).

# Com suporte multil√≠ngue para os campos Name e Comment, usando os c√≥digos de idioma 
# padr√£o (como pt_BR, en, es, etc.).


# https://commons.wikimedia.org/wiki/File%3ASway_Logo%2BText_Ver2.png
# https://github.com/swaywm/sway


Type=Application

Name=Editar configura√ß√µes do Sway
Name[en]=Edit Sway Configurations
Name[pt_BR]=Editar configura√ß√µes do Sway
Name[es]=Editar configuraciones de Sway
Name[fr]=Modifier la configuration de Sway
Name[de]=Sway-Konfiguration bearbeiten

Comment=Abre o arquivo de configura√ß√£o do Sway para edi√ß√£o
Comment[en]=Open Sway configuration file for editing
Comment[pt_BR]=Abre o arquivo de configura√ß√£o do Sway para edi√ß√£o.
Comment[es]=Abre el archivo de configuraci√≥n de Sway para editarlo
Comment[fr]=Ouvre le fichier de configuration de Sway pour le modifier
Comment[de]=√ñffnet die Sway-Konfigurationsdatei zur Bearbeitung


# O xdg-open pode n√£o funcionar corretamente em ambientes m√≠nimos como o Sway, 
# especialmente quando usado com wofi (um launcher leve, semelhante ao rofi, para 
# Wayland). Isso se d√° por alguns motivos:


# ‚ö†Ô∏è Problemas com xdg-open no Sway:

#     xdg-open depende de um ambiente de desktop (como GNOME, KDE, XFCE), e nem sempre 
# est√° bem configurado no Sway.

#     Em muitos casos, ele tenta abrir um navegador ou simplesmente n√£o faz nada se n√£o 
# houver uma aplica√ß√£o gr√°fica associada a arquivos de texto.

#     O xdg-open tamb√©m n√£o abre terminais automaticamente, o que √© necess√°rio se voc√™ 
# usa um editor em terminal.


# √â poss√≠vel fazer o xdg-open funcionar no Sway, mas requer algumas configura√ß√µes manuais, 
# porque o Sway n√£o √© um desktop environment completo, e o xdg-open depende de componentes 
# como:

#     Um gerenciador de aplica√ß√µes padr√£o (como xdg-mime)

#     Um portal como xdg-desktop-portal

#     E um "backend" para Wayland (xdg-desktop-portal-wlr)


# N√£o estava instalados: xdg-desktop-portal e xdg-desktop-portal-wlr

# sudo xbps-install -Suvy xdg-utils xdg-desktop-portal xdg-desktop-portal-wlr

# Name                   Action    Version           New version            Download size
# xdg-desktop-portal     install   -                 1.20.3_1               418KB 
# xdg-desktop-portal-wlr install   -                 0.7.1_1                46KB 


# Se voc√™ usa o Sway sem GNOME/KDE, o xdg-desktop-portal-wlr √© o backend correto para o 
# Wayland.


# Isso vai iniciar o servi√ßo de portal manualmente com sa√≠da no terminal (modo verbose).

# /usr/libexec/xdg-desktop-portal -v


# üí° Dica: adicionar um link simb√≥lico para facilitar

# sudo ln -s /usr/libexec/xdg-desktop-portal /usr/local/bin/xdg-desktop-portal

# Agora podemos rodar:

# xdg-desktop-portal -v

# Isso √© opcional, mas facilita o uso em ambientes que esperam o bin√°rio no PATH.


# O problema n√£o √© do xdg-open em si, e sim de como o caminho ~/.config/sway/config est√° sendo interpretado.

# Exec=xdg-open ~/.config/sway/config  # ‚ùå N√ÉO FUNCIONA


# Chamar o Waybar pelo terminal para ver as sa√≠das de erros:

# wofi: unrecognized option '--show-icons'
# xdg-open: file '~/.config/sway/config' does not exist
# wofi: unrecognized option '--show-icons'


# A vers√£o 1.4.1 do wofi n√£o suporta a op√ß√£o --show-icons.

# Essa op√ß√£o foi experimental e removida/ocultada em vers√µes anteriores ou posteriores 
# dependendo da compila√ß√£o. Por isso, o erro: wofi: unrecognized option '--show-icons'


# ‚úÖ Dica: Definir o editor padr√£o para arquivos .config


# Se quiser usar um editor espec√≠fico (como gedit, pluma, etc.):

# $ find /usr/share/applications/ -iname pluma.desktop
# /usr/share/applications/pluma.desktop


# xdg-mime default pluma.desktop text/plain




# ‚úÖ FUNCIONA

Exec=xdg-open .config/sway/config

# Path=/home/fernando
# Path=$HOME

# Icon=ca.desrt.dconf-editor
Icon=/usr/share/icons/extras/Sway.png

Terminal=false
StartupNotify=false

Categories=Settings;Utility;


# O campo Keywords em um arquivo .desktop permite que o atalho apare√ßa em resultados de 
# busca ao digitar palavras relacionadas no menu de aplicativos. Podemos incluir termos 
# como ‚Äúsway‚Äù, ‚Äúconfigura√ß√£o‚Äù, ‚Äúwayland‚Äù, ‚Äútiling‚Äù, etc.


Keywords=sway;config;configura√ß√£o;wayland;tiling;i3;window manager;wm;ajustes;editor;config file;
Keywords[en]=sway;config;wayland;tiling;i3;window manager;settings;edit;configuration;
Keywords[pt_BR]=sway;configura√ß√£o;ajustes;wayland;i3;gerenciador de janelas;editor;
Keywords[es]=sway;configuraci√≥n;ajustes;wayland;i3;gestor de ventanas;editor;
Keywords[fr]=sway;configuration;r√©glages;wayland;i3;gestionnaire de fen√™tres;√©diteur;
Keywords[de]=sway;konfiguration;einstellungen;wayland;i3;fenstermanager;editor;


# Opcional: Se quiser que o script rode apenas em ambientes gr√°ficos.

OnlyShowIn=sway;


